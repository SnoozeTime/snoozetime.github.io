<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="My personal site">
<meta name="author" content="Snoozetime">
<title>Snoozetime's webpage | Snoozetime's webpage</title>
<link href="assets/css/font-awesome.css" rel="stylesheet" type="text/css">
<link href="assets/css/code.css" rel="stylesheet" type="text/css">
<link href="assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="assets/css/base.css" rel="stylesheet" type="text/css">
<link href="assets/css/layout.css" rel="stylesheet" type="text/css">
<link href="assets/css/skeleton.css" rel="stylesheet" type="text/css">
<link href="assets/css/screen.css" rel="stylesheet" type="text/css">
<link href="assets/css/custom.css" rel="stylesheet" type="text/css">
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
</head>
<body>
    <div class="container">
        <div class="four columns sidebar">
            <nav><!--Sidebar content--><h1 id="blog-title">
                <a href="http://snoozetime.github.io/" title="Snoozetime's webpage">Snoozetime's webpage</a>
            </h1>
            <hr>
<p> My personal site</p>
            
            <hr>
<div id="social">
            
    

            </div>
            
    <ul>
<li> <a href="#"> Home </a> </li>
            <li> <a href="archive.html"> Archives </a> </li>
            <li> <a href="categories/index.html"> Tags </a> </li>
            <li> <a href="rss.xml"> RSS </a> </li>
    </ul>
<hr></nav>
</div>
        <div class="eleven columns content">
            
        
    <div class="postbox">
        <h1>
                <a href="posts/fantasy-novel-series-and-the-wait/">Fantasy novel series, and the Wait</a>
        </h1>
        <div class="post"> <p>
I've always been an avid reader of long fantasy novel series. As a kid, I used
to read Lord of the ring, Harry Potter (does it count? Yes it does!) and
basically everything I could put my hand on.
</p>

<p>
More recently I've been a huge fan of the work of Brandon Sanderson. For those
who don't know, Sandersonis the epic fantasy writer. He builds entire world
in different series of books that are somewhat connected in the
grander scheme: <a href="https://brandonsanderson.com/">Sanderson website</a>
</p>

<p>
So yes, I really love epic Fantasy. But amazing book series come with a big
caveat: the Wait. As opposed to the Thrill while reading, the Wait is the
excruciable period from when I finish a book until the next one is released.
Let's take a few example: The Stormlight Archive by Sanderson is a novel
series which contains 3 books at the moment:
</p>
<ul class="org-ul">
<li>The Way of Kings, published August 31, 2010
</li>
<li>Words of Radiance, published March 4, 2014
</li>
<li>Oathbringer, published November 14, 2017
</li>
</ul>
<p>
I've been in a state of passive suffering for at least 7 years.
</p>

<p>
Another great series of novel is <i>The Kingkiller Chronicle</i> by Patrick
Rothfuss. Here, the last book has been published 7 years ago!
</p>

<p>
And also, Game of Thrones people?
</p>

<p>
To be clear, I am very grateful to the authors out there that are
publishing these fantastic books. But how to satisfy the Wait? I've found
two ways some far:
</p>
<ol class="org-ol">
<li>Read more novels. This has the benefit of making me forget a bit about
the previous book I read, but it might add more series to the wait list.
</li>
<li>Read novel series that have already ended. That way no more wait. Just a
feeling of emptiness at the end.
</li>
</ol>
</div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2018-04-26T14:25:14+09:00">2018-04-26 14:25</time></span>
        <ul class="tags">
<li><a href="categories/fantasy/">fantasy</a></li>
            <li><a href="categories/reading/">reading</a></li>
        </ul>
<span class="comment-count">
            
        
    <a href="http://snoozetime.github.io/posts/fantasy-novel-series-and-the-wait/#disqus_thread" data-disqus-identifier="cache\posts\fantasy-novel-series-and-the-wait.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="posts/creating-notes-for-different-project-with-orgmode-and-emacs/">Creating notes for different project with Orgmode and Emacs</a>
        </h1>
        <div class="post"> <p>
I'm always amazed when I watch people mastering emacs. They can do everything
so much faster and with less keystrokes. However, if you have no experience with
elisp like me, extending emacs to do what I want seems like a daunting task.
</p>

<p>
As always, reading books and blogs about Emacs can help (ironic that I am writing about this isn't it),
but practice beats everything when it comes to learing a new programming language.
That's why, after doing 20 times the same operation, I decided to implement some shortcut in Elisp.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">What I am trying to achieve</h2>
<div class="outline-text-2" id="text-1">
<p>
I am working in multiple projects at a time, both in my professional and personal
life so I need to way to create notes quickly, and organize them so that I can
find them easily. I used to use Evernote for this but after switching everything
to Emacs I prefer using Orgmode.
</p>

<p>
My custom Emacs command will prompt me for a project and a note name, and will
create a file in the correctly directory that I can edit.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Let's dissect the problem a bit</h2>
<div class="outline-text-2" id="text-2">
<p>
Here I need a way to:
</p>
<ul class="org-ul">
<li>Find the list of my current projects
</li>
<li>Get a name for the new note
</li>
<li>Create the file name from above
</li>
<li>Create the note and switch to orgmode
</li>
</ul>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">How to test Elips easily</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Elisp is much easier when you can test commands one by one. There is a good tutorial <a href="https://learnxinyminutes.com/docs/elisp/">here</a> on lisp-interaction-mode.
This tutorial also links the great essay by Norvig about how to learn a programming language so I thought it was
appropriate to link it <a href="http://norvig.com/21-days.html">here</a> as well.
</p>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">Find all the projects</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Projects here are represented as subdirectory of the projects folder. Basically, the folders are structured as: ~/notes/projects/,
so notes for project 'example' would be stored under ~/notes/projects/example/.
</p>

<p>
Here comes the first function. It will fetch all the directories under the projects folder and ask the user to choose one.
</p>

<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defvar</span> <span class="nv">my/project-path</span> <span class="s">"~/notes/projects"</span><span class="p">)</span>

<span class="p">(</span><span class="nf">defun</span> <span class="nv">my/pick-project</span> <span class="p">()</span>
  <span class="s">"Prompt user to pick a choice from a list."</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">choices</span> <span class="p">(</span><span class="nf">directory-files</span> <span class="nv">my/project-path</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">message</span> <span class="s">"%s"</span> <span class="p">(</span><span class="nf">completing-read</span> <span class="s">"Open bookmark:"</span> <span class="nv">choices</span> <span class="p">))))</span>
</pre></div>

<p>
Here, <i>directory-files</i> will list all the files in the given directory (one improvement would be to keep only folders).
Next line will prompt me for a choice in this list of file and will return my choice.
</p>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Get a note name</h3>
<div class="outline-text-3" id="text-2-3">
<p>
To read a string from an user, read-string is the way to go.
</p>

<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span> <span class="nv">my/choose-note-name</span> <span class="p">()</span>
  <span class="s">"Prompt user to choose a note name"</span>
  <span class="p">(</span><span class="nf">read-string</span> <span class="s">"Choose the note name: "</span><span class="p">))</span>
</pre></div>

<p>
This will open a mini-buffer and will display "Choose the note name: ". It will return the user's answer.
</p>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">Concatenate everything to get the note path</h3>
<div class="outline-text-3" id="text-2-4">
<p>
I played around a bit with clojure so I was expecting concatenating a list of strings to be as easy, but unfortunatly
it is slightly more complicated here. I am using the concatenate function that requires a type specifier.
</p>

<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">concatenate</span> <span class="ss">'string</span> <span class="s">"string1"</span> <span class="s">"string2"</span><span class="p">)</span>
</pre></div>

<p>
In the next function, I am also using the let form which let (:')) me write cleaner code.
</p>

<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span> <span class="nv">my/create-note-name</span> <span class="p">()</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">project-name</span> <span class="p">(</span><span class="nf">my/pick-project</span><span class="p">))</span>
	<span class="p">(</span><span class="nf">note-name</span> <span class="p">(</span><span class="nf">my/choose-note-name</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">concatenate</span> <span class="ss">'string</span>
		 <span class="nv">me/project-path</span>
		 <span class="s">"/"</span>
		 <span class="nv">project-name</span>
		 <span class="s">"/"</span>
		 <span class="nv">note-name</span>
		 <span class="s">".org"</span><span class="p">)))</span>
</pre></div>

<p>
The hardcoded slashes are ugly and I pretty sure there is a better way to create the path from tokens…
</p>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">Create the note</h3>
<div class="outline-text-3" id="text-2-5">
<p>
You can use find-file to create a file and edit it in the current window. In my case, I want to open a new window to edit
the note so I am using find-file-other-window instead.
</p>

<p>
The function looks like:
</p>

<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defun</span> <span class="nv">my/create-new-project-note</span> <span class="p">()</span>
  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">filename</span> <span class="p">(</span><span class="nf">my/create-note-name</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">find-file-other-window</span> <span class="nv">filename</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">org-mode</span><span class="p">)))</span>
</pre></div>

<p>
Notice (interactive) which is there to make the function available when typing M-x. (org-mode) is also called after switching
buffer so that the correct mode is used for editing the note.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">It's done! But…</h2>
<div class="outline-text-2" id="text-3">
<p>
There is a lot of things to improve:
</p>
<ul class="org-ul">
<li>I'd like to be able to create a new project if it does not exist instead of having to create a new folder myself.
</li>
<li>directory-files lists all files in a directory, including non-folders and ".", "..". These need to be filtered out.
</li>
<li>Concatenating is ugly.
</li>
<li>After creating a note, I am using yasnippet to set the note skeleton. There should be a way to automize that.
</li>
</ul>
<p>
That first experience with Elisp was anyway encouraging as I used this function everyday. Stay tuned for other code dissection ;)
</p>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Full code</h2>
<div class="outline-text-2" id="text-4">
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nf">defvar</span> <span class="nv">my/project-path</span> <span class="s">"~/Nextcloud/notes/projects"</span><span class="p">)</span>

<span class="p">(</span><span class="nf">defun</span> <span class="nv">my/pick-project</span> <span class="p">()</span>
  <span class="s">"Prompt user to pick a choice from a list."</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">choices</span> <span class="p">(</span><span class="nf">directory-files</span> <span class="nv">my/project-path</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">message</span> <span class="s">"%s"</span> <span class="p">(</span><span class="nf">completing-read</span> <span class="s">"Open bookmark:"</span> <span class="nv">choices</span> <span class="p">))))</span>

<span class="p">(</span><span class="nf">defun</span> <span class="nv">my/choose-note-name</span> <span class="p">()</span>
  <span class="s">"Prompt user to choose a note name"</span>
  <span class="p">(</span><span class="nf">read-string</span> <span class="s">"Choose the note name: "</span><span class="p">))</span>


<span class="p">(</span><span class="nf">defun</span> <span class="nv">my/create-note-name</span> <span class="p">()</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">project-name</span> <span class="p">(</span><span class="nf">my/pick-project</span><span class="p">))</span>
	<span class="p">(</span><span class="nf">note-name</span> <span class="p">(</span><span class="nf">my/choose-note-name</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">concatenate</span> <span class="ss">'string</span>
		 <span class="nv">me/project-path</span>
		 <span class="s">"/"</span>
		 <span class="nv">project-name</span>
		 <span class="s">"/"</span>
		 <span class="nv">note-name</span>
		 <span class="s">".org"</span><span class="p">)))</span>

<span class="p">(</span><span class="nf">defun</span> <span class="nv">my/create-new-project-note</span> <span class="p">()</span>
  <span class="p">(</span><span class="nf">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">filename</span> <span class="p">(</span><span class="nf">my/create-note-name</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">find-file-other-window</span> <span class="nv">filename</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">org-mode</span><span class="p">)))</span>
</pre></div>
</div>
</div> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2018-04-16T22:04:33+09:00">2018-04-16 22:04</time></span>
        <ul class="tags">
<li><a href="categories/emacs/">emacs</a></li>
            <li><a href="categories/learning/">learning</a></li>
        </ul>
<span class="comment-count">
            
        
    <a href="http://snoozetime.github.io/posts/creating-notes-for-different-project-with-orgmode-and-emacs/#disqus_thread" data-disqus-identifier="cache\posts\creating-notes-for-different-project-with-orgmode-and-emacs.html">Comments</a>


        </span>
    </div>

    </div>

        
    <div class="postbox">
        <h1>
                <a href="posts/kucoin-rest-api-reality-check/">Kucoin REST API, reality check</a>
        </h1>
        <div class="post"> <div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">My experience with kucoin REST API</h2>
<div class="outline-text-2" id="text-1">
<p>
I've been playing a bit with cryptocurrency recently and Kucoin exchange, with its numerous coins, seemed like a great
place to experiment.
</p>

<p>
However, as often in software, reality and expectations are not aligned. Let's forget about Kucoin limitation as an exchange
 (no market order?), what really hurt was the REST API quality.
</p>

<p>
Getting details of an order does not work: <a href="https://github.com/sammchardy/python-kucoin/issues/23">https://github.com/sammchardy/python-kucoin/issues/23</a> (Check out the answer from
the exchange support for extra fun). Then, when trying to cancel an order, I received a "System Error". It appeared that 
orders could not be canceled through the API for some time. 
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Morale of the story</h2>
<div class="outline-text-2" id="text-2">
<p>
It looks like I am bashing Kucoin here. I am not (well maybe a bit).  The whole crypto space is young and moving at
an extreme pace. Competition between exchanges is hard and it does not surprise me that not everything is working
as expected. 
</p>

<p>
As a developer, one should program defensively when dealing with external parties, even more when the external party 
cannot be trusted.
</p>
</div>
</div> </div>
        
    <div class="meta">
        <span class="date">
            <time class="published" datetime="2018-04-05T18:06:41+09:00">2018-04-05 18:06</time></span>
        <ul class="tags">
<li><a href="categories/cryptocurrency/">cryptocurrency</a></li>
        </ul>
<span class="comment-count">
            
        
    <a href="http://snoozetime.github.io/posts/kucoin-rest-api-reality-check/#disqus_thread" data-disqus-identifier="cache\posts\kucoin-rest-api-reality-check.html">Comments</a>


        </span>
    </div>

    </div>



    <div id="home">
        <ul id="blog-posts" class="posts"></ul>
</div>

    

    
        
       <script>var disqus_shortname="snoozetime.github.io/";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><div class="footer">
                <small>Contents © 2018         <a href="mailto:benoit.eudier@gmail.com">Snoozetime</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </small>
            </div>
        </div>
    </div>
    
            <script src="assets/js/jquery-1.10.2.min.js" type="text/javascript"></script>
</body>
</html>
